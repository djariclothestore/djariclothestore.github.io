"use strict";(self["webpackChunkdjari_clothe"]=self["webpackChunkdjari_clothe"]||[]).push([[709],{2014:function(t,s,o){o.r(s),o.d(s,{default:function(){return E}});var e=o(6252),a=o(3577),i=o(6816);const l=t=>((0,e.dD)("data-v-6f0b0c87"),t=t(),(0,e.Cn)(),t),n={class:"shopPage"},c=l((()=>(0,e._)("img",{class:"ficon no-items",src:i,alt:"shopcar icon"},null,-1))),r=l((()=>(0,e._)("p",{class:"description-no-items"},"No se encontraron items",-1))),d=[c,r],p={class:"details-cost"},h={class:"items"},_={class:"item-content"},m=["onClick"],u=["href"],g={class:"figure-item"},v=["src"],f={class:"info"},S={class:"info-data"},b=l((()=>(0,e._)("span",{class:"bold"},"Marca: ",-1))),C={class:"info-data"},D=l((()=>(0,e._)("span",{class:"bold"},"Talla: ",-1))),k={class:"info-data"},w=l((()=>(0,e._)("span",{class:"bold"},"Precio: ",-1))),I={class:"info-data"},y=l((()=>(0,e._)("span",{class:"bold"},"Cantidad: ",-1))),z={class:"total-cost"},U={class:"card-total"},P=l((()=>(0,e._)("h1",{class:"bold"},"Total",-1)));function M(t,s,o,i,l,c){return(0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("div",{class:(0,a.C_)(l.isDeleted.length==l.cant_items?"no-items-found-active":"no-items-found-no-active")},d,2),(0,e._)("div",{class:(0,a.C_)(l.isDeleted.length!=l.cant_items||l.polos_items.length?"container-shop":"no-items-found-no-active")},[(0,e._)("div",p,[(0,e._)("div",null,[(0,e._)("div",h,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.polos_items,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"card",key:t.id},[(0,e._)("div",{class:(0,a.C_)(["item-div",-1==l.isDeleted.indexOf(t.id)?"item-div-active":"item-div-deleted"])},[(0,e._)("a",_,[(0,e._)("button",{class:"btn btn-danger btn-sd",onClick:s=>c.deleteShopItem(t.id)},"X",8,m),(0,e._)("a",{href:"/items/"+t.id},[(0,e._)("figure",g,[(0,e._)("img",{class:"image-item",src:t.get_image,alt:""},null,8,v)])],8,u),(0,e._)("div",f,[(0,e._)("h4",null,(0,a.zw)(t.modelo),1),(0,e._)("p",S,[b,(0,e.Uk)(" "+(0,a.zw)(t.marca),1)]),(0,e._)("p",C,[D,(0,e.Uk)(" "+(0,a.zw)(t.talla),1)]),(0,e._)("p",k,[w,(0,e.Uk)(" S/. "+(0,a.zw)(t.precio),1)]),(0,e._)("p",I,[y,(0,e.Uk)(" "+(0,a.zw)(t.cantidad),1)])])])],2)])))),128))])])]),(0,e._)("div",z,[(0,e._)("div",U,[P,(0,e._)("h2",null,"S/. "+(0,a.zw)(l.precio_total),1),(0,e._)("button",{type:"button",class:"btn-compra btn btn-dark",onClick:s[0]||(s[0]=(...t)=>c.toPay&&c.toPay(...t))},"Continuar con la compra")])])],2)])}var N=o(9669),O=o.n(N),j=o(6455),x=o.n(j),J={name:"MyShopCar",data(){return{polos_items:[],precio_total:0,isDeleted:[],cant_items:0,sendDataShop:{list_id_polos:[],list_count:[],id_user:null},usr_id:null}},mounted(){this.checkUserSession(),this.getShopList()},methods:{getShopList(){var t=localStorage.getItem("startCompras");t=JSON.parse(t),console.log(t),null!=t&&(this.polos_items=t["results"],this.cant_items=this.polos_items.length,console.log("cant: ",this.cant_items),this.polos_items.forEach((t=>{this.sendDataShop["list_id_polos"].push(t.id),this.sendDataShop["list_count"].push(t.cantidad.toString()),this.precio_total+=parseFloat(t.precio)*parseInt(t.cantidad),this.precio_total=Math.round(100*this.precio_total)/100})))},deleteShopItem(t){console.log(t),this.isDeleted.push(t);for(var s=JSON.parse(localStorage.getItem("startCompras")),o=s["results"],e=0;e<o.length;e++)o[e].id===t&&(this.precio_total-=o[e].precio,this.precio_total=Math.round(100*this.precio_total)/100,o.splice(e,1));console.log("res:",o),console.log(o.length),this.polos_items=o;const a={results:[]};a["results"]=o,console.log("len:",this.polos_items.length),this.isDeleted.length==this.cant_items?localStorage.removeItem("startCompras"):localStorage.setItem("startCompras",JSON.stringify(a))},toPay(){this.sendDataShop["id_user"]=this.usr_id,console.log("dataShop: ",this.sendDataShop),O().post("/api/carritoCompras/sale/",this.sendDataShop).then((t=>{console.log("enviado: ",t.data.msj)})).catch((t=>{console.log("pipippipi"),console.log(t)})),x().fire("Compra exitosa!","Gracias por probar el demo","success"),localStorage.removeItem("startCompras"),console.log("pague")},checkUserSession(){const t=localStorage.getItem("user_session");null!=t&&(this.usr_id=t)}},created(){}},L=o(3744);const T=(0,L.Z)(J,[["render",M],["__scopeId","data-v-6f0b0c87"]]);var E=T},6816:function(t,s,o){t.exports=o.p+"img/shopcar.f9938763.svg"}}]);
//# sourceMappingURL=709.a166aee4.js.map