"use strict";(self["webpackChunkdjari_clothe"]=self["webpackChunkdjari_clothe"]||[]).push([[84],{84:function(s,i,e){e.r(i),e.d(i,{default:function(){return N}});var t=e(6252),o=e(3577),a=e(6816);const n=s=>((0,t.dD)("data-v-3b5483c1"),s=s(),(0,t.Cn)(),s),c={class:"favorites-main"},l={class:"favorites-items"},r={id:"show-filter"},d=n((()=>(0,t._)("img",{class:"ficon no-items",src:a,alt:"shopcar icon"},null,-1))),h=n((()=>(0,t._)("p",{class:"description-no-items"},"No se encontraron items",-1))),g=[d,h],v={class:"paginationBar","aria-label":"..."},_={class:"pagNumb"},u={class:"pagination pagination-md"},p=["onClick"],m={class:"items"},f=["virtualIndex"],F={class:"item-div"},k=["href"],I={class:"figure-item"},S=["src"],w={class:"info"},C={class:"info-name"},b={class:"info-price"},x={class:"item-opciones"},D=["href"],P=n((()=>(0,t._)("div",null,"Probar",-1))),y=[P],L=["onClick"],M=["src"];function z(s,i,e,a,n,d){return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("h2",{class:"title-favorites",onClick:i[0]||(i[0]=(...s)=>d.deleteId&&d.deleteId(...s))},"Mis Favoritos"),(0,t._)("div",l,[(0,t._)("div",r,[(0,t._)("div",{class:(0,o.C_)(0===n.polos_items.length||0==n.activeSession?"no-items-found-active":"no-items-found-no-active")},g,2),(0,t._)("div",{class:(0,o.C_)(n.polos_items.length>=1?"show-catalog":"no-items-found-no-active")},[(0,t._)("nav",v,[(0,t._)("div",_,[(0,t._)("ul",u,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.pages,(s=>((0,t.wg)(),(0,t.iD)("li",{class:(0,o.C_)(["page-item",{active:s==n.current_page}]),key:s},[(0,t._)("a",{class:"page-link",onClick:i=>d.nextPage(s),href:"#"},(0,o.zw)(s),9,p)],2)))),128))])])]),(0,t._)("div",m,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.polos_items,(s=>((0,t.wg)(),(0,t.iD)("div",{class:"card",key:s.id,virtualIndex:s.id},[(0,t._)("div",F,[(0,t._)("a",{class:"item-content",href:"/items/"+s.id},[(0,t._)("div",null,[(0,t._)("figure",I,[(0,t._)("img",{class:"image-item",src:s.get_image,alt:""},null,8,S)]),(0,t._)("div",w,[(0,t._)("p",C,(0,o.zw)(s.name_modelo),1),(0,t._)("p",b,"S/. "+(0,o.zw)(s.price),1)])])],8,k),(0,t._)("div",x,[(0,t._)("a",{class:"bton-special anchor",href:"/try-on/"+s.id},y,8,D),(0,t._)("a",{class:(0,o.C_)(["anchor",n.user_id?"favo-icon":"favo-no-icon"]),onClick:i=>d.addFavorite(s.id),href:"#"},[(0,t._)("img",{src:n.isFavorite.indexOf(s.id)>-1?d.changeIcon(!0):d.changeIcon(!1),class:"ficon"},null,8,M)],10,L)])])],8,f)))),128))])],2)])])])}var O=e(9669),j=e.n(O),E={name:"MyFavorites",data(){return{isFavorite:[],polos_items:[],current_page:1,pages:1,isLoading:!1,itemFound:!1,user_id:"",activeSession:!1,msg_no_description:""}},beforeMount(){this.isLoading=!0,this.checkUserSession(),this.checkFavoritesStorage(),this.nextPage()},methods:{nextPage(s){this.activeSession&&(this.isLoading=!0,s=s||this.current_page,j().get("/api/user/poloFavorite/"+this.user_id+"?page="+s).then((i=>{this.msg=i.data,console.log("ga: ",this.msg),this.polos=i.data.results,this.pages=Math.ceil(i.data.count/6),this.current_page=s,this.polos_items=this.polos})).catch((s=>{console.log(s)})),this.isLoading=!1)},checkUserSession(){const s=localStorage.getItem("user_session");null!=s?(this.user_id=s,this.activeSession=!0):this.activeSession=!1},addFavorite(s){this.isFavorite.indexOf(s)>-1?this.isFavorite.splice(this.isFavorite.indexOf(s),1):this.isFavorite.push(s),0==this.isFavorite.length?localStorage.removeItem("list_favorites"):localStorage.setItem("list_favorites",this.isFavorite);const i={id_polo:null,id_user:null};i["id_polo"]=s,i["id_user"]=localStorage.getItem("user_session"),j().post("/api/registerPoloFavorite/",i).then((s=>{this.msg=s.data,console.log(this.msg)})).catch((s=>{console.log(s)})),location.href="/favorites"},changeIcon(s){return e(!1===s?3972:8397)},checkFavoritesStorage(){const s=localStorage.getItem("list_favorites"),i=[];if(null!=s){const e=s.split(",");e.forEach((s=>i.push(parseInt(s)))),i.forEach((s=>this.isFavorite.push(s)))}else this.isFavorite.splice(0,this.isFavorite.length)},deleteId(){localStorage.removeItem("list_favorites")}}},H=e(3744);const K=(0,H.Z)(E,[["render",z],["__scopeId","data-v-3b5483c1"]]);var N=K},6816:function(s,i,e){s.exports=e.p+"img/shopcar.f9938763.svg"}}]);
//# sourceMappingURL=84.9743523a.js.map