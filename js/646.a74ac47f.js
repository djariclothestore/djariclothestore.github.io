"use strict";(self["webpackChunkdjari_clothe"]=self["webpackChunkdjari_clothe"]||[]).push([[646],{3646:function(t,e,a){a.r(e),a.d(e,{default:function(){return Z}});var s=a(6252);function i(t,e,a,i,r,o){const c=(0,s.up)("NewItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c)])}var r=a(3577),o=a(6816);const c=t=>((0,s.dD)("data-v-4dd52333"),t=t(),(0,s.Cn)(),t),l={class:"item-body"},n={class:"show-item"},m={class:"view-item"},d=["src"],p={class:"details-item"},_={class:"text-details-item"},h={class:"item_name"},u={class:"item_price"},g={class:"detail-text"},f=c((()=>(0,s._)("span",{class:"bold-text"},"Marca:",-1))),v={class:"detail-text"},b=c((()=>(0,s._)("span",{class:"bold-text"},"Talla:",-1))),S=c((()=>(0,s._)("form",{id:"div-cantItem"},[(0,s._)("label",{for:"cantItem"},"Cantidad:"),(0,s._)("input",{id:"cantItem",type:"number",name:"cantItem",value:"0",min:"0"})],-1))),I={class:"actions"},k=(0,s.Uk)(" Comprar"),C=c((()=>(0,s._)("img",{class:"ficon",src:o,alt:"shopcar icon"},null,-1))),w=[k,C],y={class:"description"},N=c((()=>(0,s._)("div",{class:"name-description"},[(0,s._)("p",null,"Description")],-1))),x={class:"body-description"};function z(t,e,a,i,o,c){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",n,[(0,s._)("figure",m,[(0,s._)("img",{class:"image-item",src:o.path_image,alt:"polo"},null,8,d)]),(0,s._)("div",p,[(0,s._)("div",_,[(0,s._)("h1",h,(0,r.zw)(o.name_item),1),(0,s._)("p",u,"S/. "+(0,r.zw)(o.price_item),1),(0,s._)("p",g,[f,(0,s.Uk)(" "+(0,r.zw)(o.name_marca),1)]),(0,s._)("p",v,[b,(0,s.Uk)(" "+(0,r.zw)(o.talla_item),1)]),S]),(0,s._)("div",I,[(0,s._)("button",{type:"button",class:"btn-action btn btn-primary btn-sd",onClick:e[0]||(e[0]=(...t)=>c.doShop&&c.doShop(...t))},w),(0,s._)("button",{type:"button",class:"btn-action btn btn-primary btn-sd",onClick:e[1]||(e[1]=(...t)=>c.goProbar&&c.goProbar(...t))},"Probar")])])]),(0,s._)("div",y,[N,(0,s._)("div",x,[(0,s._)("p",null,(0,r.zw)(o.description_item),1)])])])}var J=a(9669),O=a.n(J),P=a(6455),U=a.n(P),D={name:"NewItem",data(){return{cor_filters:[],marca_filters:[],talla_filters:[],name_cor:"",name_marca:"",description:"",path_image:"",description_item:"",name_item:"",price_item:"",talla_item:"",stock_item:"",id_item:"",compras:{results:[]},userSession:!1}},mounted(){this.checkUserSession(),this.getFilters(),this.getListShop(),this.getInfo()},methods:{goProbar(){location.href="/try-on/"+this.id_item.toString()},getFilters(){O().get("/api/catalogo/filters/").then((t=>{this.data=t.data,this.cor_filters=this.data.colores,this.marca_filters=this.data.marcas,this.talla_filters=this.data.tallas})).catch((t=>{console.log(t)}))},getInfo(){const t=this.$route.params.id;this.id_item=t,O().get("/api/paginaItem/detailsPolo/"+t).then((t=>{const e=t.data;this.name_cor=this.cor_filters[e.color-1],this.name_marca=this.marca_filters[e.marcas-1],this.path_image=e.path_image,this.description_item=e.description,this.name_item=e.name_modelo,this.price_item=e.price,this.stock_item=e.stock,this.talla_item=e.talla})).catch((t=>{console.log(t)}))},getListShop(){var t=localStorage.getItem("startCompras");null!=t&&(t=JSON.parse(t),this.compras["results"]=t["results"])},checkUserSession(){const t=localStorage.getItem("user_session");this.userSession=null!=t},doShop(){const t=document.getElementById("cantItem"),e={};if(t.value>0)if(this.userSession){var a=localStorage.getItem("startCompras");if(null!=a){a=JSON.parse(a);var s=!1;for(const e of a["results"])if(this.id_item==e["id"]){console.log("si esta"),s=!0,e["cantidad"]=parseInt(e["cantidad"])+parseInt(t.value);break}0==s?(e["id"]=this.id_item,e["modelo"]=this.name_item,e["marca"]=this.name_marca,e["talla"]=this.talla_item,e["precio"]=this.price_item,e["cantidad"]=t.value,e["get_image"]=this.path_image,this.compras["results"].push(e),localStorage.setItem("startCompras",JSON.stringify(this.compras))):localStorage.setItem("startCompras",JSON.stringify(a))}else e["id"]=this.id_item,e["modelo"]=this.name_item,e["marca"]=this.name_marca,e["talla"]=this.talla_item,e["precio"]=this.price_item,e["cantidad"]=t.value,e["get_image"]=this.path_image,this.compras["results"].push(e),localStorage.setItem("startCompras",JSON.stringify(this.compras));U().fire("Item Agregado!","Revise su carrito de compras","success")}else U().fire("Iniciar Sesi√≥n!","Tiene que loguearse para comprar un producto","error");else t.value<=0&&U().fire("Error!","Cantidad de items debe ser mayor a 0","error")},deleteCompras(){localStorage.removeItem("startCompras")}}},j=a(3744);const E=(0,j.Z)(D,[["render",z],["__scopeId","data-v-4dd52333"]]);var F=E,L={components:{NewItem:F}};const T=(0,j.Z)(L,[["render",i]]);var Z=T},6816:function(t,e,a){t.exports=a.p+"img/shopcar.f9938763.svg"}}]);
//# sourceMappingURL=646.a74ac47f.js.map