"use strict";(self["webpackChunkdjari_clothe"]=self["webpackChunkdjari_clothe"]||[]).push([[379],{9379:function(e,t,i){i.r(t),i.d(t,{default:function(){return re}});var s=i(6252),l=i(3577),a=i(1269),r=i(6816);const o=e=>((0,s.dD)("data-v-09340cb8"),e=e(),(0,s.Cn)(),e),c={id:"container01"},n={id:"filter-container"},h={id:"filter"},g=o((()=>(0,s._)("h5",null,"FILTRADO POR",-1))),_={id:"filters-box"},d={class:"filter-set"},p=o((()=>(0,s._)("img",{id:"filt01",src:a,class:"caret-toggle",alt:"caret"},null,-1))),u=(0,s.Uk)(),f=o((()=>(0,s._)("h4",null,"Marcas",-1))),m=[p,u,f],v={key:0},F={class:"form-check"},k=["value"],S={class:"form-check-label",for:"check_marca"},w={class:"filter-set"},D=o((()=>(0,s._)("img",{id:"filt02",src:a,class:"caret-toggle",alt:"caret"},null,-1))),y=(0,s.Uk)(),I=o((()=>(0,s._)("h4",null,"Tallas",-1))),b=[D,y,I],x={key:0},C={class:"form-check"},P=["value"],B={class:"form-check-label",for:"check_talla"},E={id:"show-filter"},z=o((()=>(0,s._)("img",{class:"ficon no-items",src:r,alt:"shopcar icon"},null,-1))),L=o((()=>(0,s._)("p",{class:"description-no-items"},"No se encontraron items",-1))),M=[z,L],O={class:"paginationBar","aria-label":"..."},q={class:"pagNumb"},H={class:"pagination pagination-md"},K=["onClick"],U={class:"items"},Y=["virtualIndex"],A={class:"item-div"},j=["href"],N={class:"figure-item"},R=["src"],T={class:"info"},X={class:"info-name"},Z={class:"info-price"},G={class:"item-opciones"},J=["href"],Q=o((()=>(0,s._)("div",null,"Probar",-1))),V=[Q],W=["onClick"],$=["src"];function ee(e,t,i,a,r,o){return(0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",n,[(0,s._)("div",h,[g,(0,s._)("button",{type:"button",class:(0,l.C_)(["btn btn-danger",r.deleteFilters?"deleteFilters-active":"deleteFilters-no-active"]),onClick:t[0]||(t[0]=(...e)=>o.displayDeleteFilters&&o.displayDeleteFilters(...e))},"X Borrar Filtros",2),(0,s._)("form",_,[(0,s._)("fieldset",d,[(0,s._)("div",{class:"toggle-filter",onClick:t[1]||(t[1]=e=>o.toggleFilters(1))},m),r.isSeenFilter01?((0,s.wg)(),(0,s.iD)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.marca_filters,((e,i)=>((0,s.wg)(),(0,s.iD)("div",{key:i},[(0,s._)("div",F,[(0,s._)("input",{onClick:t[2]||(t[2]=(...e)=>o.getData&&o.getData(...e)),class:"form-check-input",name:"marca_selected",value:[e,i],type:"checkbox",id:"check_marca"},null,8,k),(0,s._)("label",S,(0,l.zw)(e),1)])])))),128))])):(0,s.kq)("",!0)]),(0,s._)("fieldset",w,[(0,s._)("div",{class:"toggle-filter filt-set-02",onClick:t[3]||(t[3]=e=>o.toggleFilters(2))},b),r.isSeenFilter02?((0,s.wg)(),(0,s.iD)("div",x,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.talla_filters,((e,i)=>((0,s.wg)(),(0,s.iD)("div",{key:i},[(0,s._)("div",C,[(0,s._)("input",{onClick:t[4]||(t[4]=(...e)=>o.getData&&o.getData(...e)),class:"form-check-input",name:"talla_selected",value:[e,i],type:"checkbox",id:"check_talla"},null,8,P),(0,s._)("label",B,(0,l.zw)(e),1)])])))),128))])):(0,s.kq)("",!0)])])]),(0,s._)("div",E,[(0,s._)("div",{class:(0,l.C_)(0===r.polos_items.length?"no-items-found-active":"no-items-found-no-active")},M,2),(0,s._)("div",{class:(0,l.C_)(r.polos_items.length>=1?"show-catalog":"no-items-found-no-active")},[(0,s._)("nav",O,[(0,s._)("div",q,[(0,s._)("ul",H,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.pages,(e=>((0,s.wg)(),(0,s.iD)("li",{class:(0,l.C_)(["page-item",{active:e==r.current_page}]),key:e},[(0,s._)("a",{class:"page-link",onClick:t=>o.nextPage(e),href:"#"},(0,l.zw)(e),9,K)],2)))),128))])])]),(0,s._)("div",U,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.polos_items,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"card",key:e.id,virtualIndex:e.id},[(0,s._)("div",A,[(0,s._)("a",{class:"item-content",href:"/items/"+e.id},[(0,s._)("div",null,[(0,s._)("figure",N,[(0,s._)("img",{class:"image-item",src:e.get_image,alt:""},null,8,R)]),(0,s._)("div",T,[(0,s._)("p",X,(0,l.zw)(e.name_modelo),1),(0,s._)("p",Z,"S/. "+(0,l.zw)(e.price),1)])])],8,j),(0,s._)("div",G,[(0,s._)("a",{class:"bton-special anchor",href:"/try-on/"+e.id},V,8,J),(0,s._)("a",{class:(0,l.C_)(["anchor",r.userSession?"favo-icon":"favo-no-icon"]),onClick:t=>o.addFavorite(e.id),href:"#"},[(0,s._)("img",{src:r.isFavorite.indexOf(e.id)>-1?o.changeIcon(!0):o.changeIcon(!1),class:"ficon"},null,8,$)],10,W)])])],8,Y)))),128))])],2)])])])}var te=i(9669),ie=i.n(te),se={name:"MyCatalog",components:{},data(){return{isFavorite:[],polos_items:[],current_page:1,pages:1,isLoading:!1,cor_filters:[],marca_filters:[],talla_filters:[],price_filters:[],deleteFilters:!1,catalogo_url:"/api/catalogo/polos/?page=",filtro_url:"/api/catalogo/filter_polos/?page=",tmp_search_filter_url:"",filtro_url_tmp:"",searchFilter:!1,itemFound:!1,userSession:!1,isSeenFilter01:!1,isSeenFilter02:!1,existItems:!1}},mounted(){this.checkUserSession(),this.checkFavoritesStorage(),this.isLoading=!0,this.nextPage(),this.getFilters()},methods:{nextPage(e,t=""){if(0!=t.length||this.searchFilter)if(0==t.length&&this.searchFilter)e=e||this.current_page,ie().get(this.filtro_url_tmp+e+this.tmp_search_filter_url).then((t=>{this.polos=t.data.results,this.pages=Math.ceil(t.data.count/6),this.current_page=e,this.polos_items=this.polos})).catch((e=>{console.log(e)}));else{this.searchFilter=!0,t=t.slice(1);var i=this.filtro_url.slice(0,-5),s=t.split("&");i+=s[0]+"&page=",t=t.slice(s[0].length),this.tmp_search_filter_url=t,this.filtro_url_tmp=i,this.current_page=1,this.pages=1,e=e||this.current_page,ie().get(this.filtro_url_tmp+e+this.tmp_search_filter_url).then((t=>{this.polos=t.data.results,this.pages=Math.ceil(t.data.count/6),this.current_page=e,this.polos_items=this.polos})).catch((e=>{console.log(e)}))}else this.isLoading=!0,e=e||this.current_page,ie().get(this.catalogo_url+e).then((t=>{this.polos=t.data.results,console.log(this.polos),this.pages=Math.ceil(t.data.count/6),this.current_page=e,this.polos_items=this.polos})).catch((e=>{console.log(e)})),this.isLoading=!1},getFilters(){ie().get("/api/catalogo/filters/").then((e=>{this.data=e.data,this.cor_filters=this.data.colores,this.marca_filters=this.data.marcas,this.talla_filters=this.data.tallas,this.price_filters=this.data.rango_precio})).catch((e=>{console.log(e)}))},getData(){!1===this.deleteFilters&&(this.deleteFilters=!0);var e=document.querySelectorAll("input:checked");0==e.length&&(this.deleteFilters=!1,this.searchFilter=!1,this.nextPage(1));const t=document.getElementById("filters-box"),i=new FormData(t),s={list_colors:[],range_price:[],list_tallas:[],list_marcas:[]};for(var l of i.entries()){const e=l[0].split("_");if("selected"===e[1]){const t=l[1].split(",");"cor"===e[0]?s["list_colors"].push(parseInt(t[1])+1):"marca"===e[0]?s["list_marcas"].push(parseInt(t[1])+1):"talla"===e[0]&&s["list_tallas"].push(t[0])}}s["range_price"]=this.price_filters;var a="?";for(const r in s)if(s[r].length>0){a+=r+"=";for(const e of s[r])a+=e+",";a=a.slice(0,-1),a+="&"}a=a.slice(0,-1),this.nextPage(1,a)},displayDeleteFilters(){var e=document.querySelectorAll("input:checked");if(0!==e.length)for(var t=0;t<e.length;t++)e[t].checked=!1;this.searchFilter=!1,this.nextPage(1),this.deleteFilters=!1},addFavorite(e){this.isFavorite.indexOf(e)>-1?this.isFavorite.splice(this.isFavorite.indexOf(e),1):this.isFavorite.push(e),0==this.isFavorite.length?localStorage.removeItem("list_favorites"):localStorage.setItem("list_favorites",this.isFavorite);const t={id_polo:null,id_user:null};t["id_polo"]=e,t["id_user"]=localStorage.getItem("user_session"),ie().post("/api/registerPoloFavorite/",t).then((e=>{this.msg=e.data,console.log(this.msg)})).catch((e=>{console.log(e)}))},changeIcon(e){return i(!1===e?3972:8397)},checkUserSession(){const e=localStorage.getItem("user_session");null!=e?this.userSession=!0:this.activeSession=!1},checkFavoritesStorage(){const e=localStorage.getItem("list_favorites"),t=[];if(null!=e){const i=e.split(",");i.forEach((e=>t.push(parseInt(e)))),t.forEach((e=>this.isFavorite.push(e)))}},toggleFilters(e){1==e?(this.isSeenFilter01=!this.isSeenFilter01,!1===this.isSeenFilter01?document.getElementById("filt01").src=i(1269):document.getElementById("filt01").src=i(5860)):2==e&&(this.isSeenFilter02=!this.isSeenFilter02,!1===this.isSeenFilter02?document.getElementById("filt02").src=i(1269):document.getElementById("filt02").src=i(5860))}}},le=i(3744);const ae=(0,le.Z)(se,[["render",ee],["__scopeId","data-v-09340cb8"]]);var re=ae},5860:function(e,t,i){e.exports=i.p+"img/caret-down-fill.2d8e60f8.svg"},1269:function(e,t,i){e.exports=i.p+"img/caret-right-fill.61560742.svg"},6816:function(e,t,i){e.exports=i.p+"img/shopcar.f9938763.svg"}}]);
//# sourceMappingURL=379.40233de2.js.map